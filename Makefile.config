# Commands
MAKE := make
MKDIR := mkdir -p
RMDIR := rm -rf

# Default project name obtained from Git top-level directory
PROJECT_NAME ?= $(shell basename `git rev-parse --show-toplevel`)

# Executables
DEBUG_EXEC := debugBin
RELEASE_EXEC := releaseBin

# Build Directory
BUILD := build

# Build Command (i.e. Used to build project)
# Enclose the command in double quotes to handle spaces and special characters
BUILD_CMD := "$(MAKE)"

# It's good practice to add a .PHONY target to indicate that these targets don't represent actual files
.PHONY: all debug release clean

# Default target, builds both debug and release versions
all: debug release

# Target for building debug version
debug:
    $(MKDIR) $(BUILD)
    $(BUILD_CMD) debug -C $(BUILD)

# Target for building release version
release:
    $(MKDIR) $(BUILD)
    $(BUILD_CMD) release -C $(BUILD)

# Target for cleaning up build artifacts
clean:
    $(RMDIR) $(BUILD)
